<div id="fb_devise_create_user">
  <div class="modal-header">  
    <h3><%= t(:sign_up, scope: :'myinfo.menu') %></h3> 
  </div>  
  <div class="modal-body">
    <%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :id => 'new_user', :class => "form-horizontal", :data => { remote: true, spinner: "#new_user_spinner"}}) do |f| %>

      <%= devise_error_messages! %>
      <%= f.hidden_field :role, :value => User.guest_role %>
      <%= f.input :first_name, :input_html => { :autocomplete => :off} %>
      <%= f.input :last_name, :input_html => { :autocomplete => :off} %>
      
      <%= f.input :username, :input_html => { :autocomplete => :off} %>
      <%= f.input :email, :input_html => { :autocomplete => :off} %>
      <% if f.object.password_required?-%>
        <%= f.input :password %>
        <%= f.input :password_confirmation %>
      <% end -%>
     <div class="control-group">
        <div class="controls">
          <%= f.submit t(:sign_up, scope: :'myinfo.menu'), :class => "btn" %>&nbsp;<%= spinner_tag 'new_user_spinner' %>
        </div>
      </div>
    <% end %>
  </div>
  <div class="modal-footer">
    <%= t(:already_registered, scope: :'myinfo.messages') -%> <%=link_to t(:login, scope: :'myinfo.menu'), fb_login_path, :remote => true %>   
  </div>
</div>
